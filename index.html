<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa polskich serwerÃ³w furry</title>
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/table.css">
  <link rel="stylesheet" href="css/info-panel.css">
  <link rel="stylesheet" href="css/summary-panel.css">
  <link rel="stylesheet" href="css/graph.css">
  <link rel="stylesheet" href="css/mobile.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <div class="tooltip"></div>
  <div id="overlay" class="visible">
    <div id="disclaimer">
      <div id="disclaimer-header">
        <h2>Witaj na interaktywnej mapie polskich serwerÃ³w furry!</h2>
      </div>
      <div id="disclaimer-body">
        <p>
          Mapa ta zostaÅ‚a stworzona w celach informacyjnych i poglÄ…dowych, aby uÅ‚atwiÄ‡ wizualizacjÄ™ polskiego fandomu furry na platformie Discord. Przedstawia ona serwery, ich wielkoÅ›Ä‡ (liczbÄ™ czÅ‚onkÃ³w), poziom zaangaÅ¼owania spoÅ‚ecznoÅ›ci (liczbÄ™ boostÃ³w) oraz wzajemne powiÄ…zania w postaci partnerstw. Ma ona na celu dostarczenie ogÃ³lnego obrazu polskiej czÄ™Å›ci fandomu na Discordzie.
        </p>

        <div class="disclaimer-section">
          <h3><span class="icon">âš ï¸</span> Uwagi</h3>
          <ul>
            <li><b>Dane sÄ… publiczne:</b> Wszystkie przedstawione tutaj dane (nazwy serwerÃ³w, liczba czÅ‚onkÃ³w, liczba boostÃ³w, partnerstwa) sÄ… publicznie dostÄ™pne i moÅ¼liwe do uzyskania przez kaÅ¼dego uÅ¼ytkownika Discorda. Nie sÄ… to dane wraÅ¼liwe ani prywatne.</li>
            <li><b>Brak negatywnych intencji:</b> Dane zostaÅ‚y zebrane z ciekawoÅ›ci i nie sÄ… wykorzystywane w sposÃ³b, ktÃ³ry mÃ³gÅ‚by zaszkodziÄ‡ ktÃ³rymkolwiek z serwerÃ³w lub ich czÅ‚onkom. Celem jest wyÅ‚Ä…cznie dostarczenie obiektywnej wizualizacji.</li>
            <li><b>AktualnoÅ›Ä‡ danych:</b> Dane na tej mapie mogÄ… pochodziÄ‡ z rÃ³Å¼nych okresÃ³w. MoÅ¼esz przeÅ‚Ä…czaÄ‡ siÄ™ miÄ™dzy dostÄ™pnymi datami aktualizacji za pomocÄ… selektora w panelu bocznym. SpoÅ‚ecznoÅ›Ä‡ Discorda jest dynamiczna, a liczby i partnerstwa mogÄ… siÄ™ zmieniaÄ‡.</li>
            <li><b>Cel informacyjny:</b> Mapa ma na celu jedynie przedstawienie ogÃ³lnego obrazu fandomu. RÃ³Å¼nice w wielkoÅ›ci kÃ³Å‚ odzwierciedlajÄ… liczbÄ™ czÅ‚onkÃ³w, kolory iloÅ›ci boostÃ³w, a linie Å‚Ä…czÄ…ce wskazujÄ… partnerstwa miÄ™dzy serwerami.</li>
          </ul>
        </div>

        <div class="disclaimer-section">
          <h3><span class="icon">â„¹ï¸</span> Dodatkowe informacje</h3>
          <ul>
            <li>Mapa ta nie obejmuje wszystkich polskojÄ™zycznych serwerÃ³w furry dla danego okresu.</li>
            <li>ObecnoÅ›Ä‡ lub brak serwera na tej mapie nie jest w Å¼aden sposÃ³b ocenÄ… jego jakoÅ›ci czy wartoÅ›ci.</li>
            <li>NiektÃ³re serwery mogÅ‚y zostaÄ‡ pominiÄ™te z powodu braku publicznie dostÄ™pnych informacji lub ograniczonej widocznoÅ›ci.</li>
            <li>Mapa ta moÅ¼e zawieraÄ‡ bÅ‚Ä™dy co do partnerstw, ktÃ³re mogÄ… byÄ‡ nieaktualne z powodu zerwania relacji lub zmian w danych historycznych.</li>
          </ul>
        </div>
      </div>
      <button id="understandButton">Rozumiem</button>
    </div>
  </div>

<div id="leftPanel">
    <div id="pageTitle">Mapa polskich serwerÃ³w furry</div>

    <div id="topControlsContainer" class="mobile-hidden">
        <div class="data-version-selector-container">
            <label for="dataVersionSelector">Wersja danych:</label>
            <select id="dataVersionSelector"></select>
        </div>
        <div class="color-mode-selector-container">
            <label for="colorModeSelector">Koloruj wg:</label>
            <select id="colorModeSelector">
                <option value="boosts">BoostÃ³w</option>
                <option value="age">Wieku</option>
                <option value="partnerships">Partnerstw</option>
                <option value="influence">WpÅ‚ywu</option>
                <option value="trend">Trendu</option>
            </select>
        </div>
        <button id="resetButton">Resetuj MapÄ™</button>
    </div>

    <div class="desktop-hidden">
        <div class="data-version-selector-container">
            <label for="dataVersionSelectorMobile">Wersja danych:</label>
            <select id="dataVersionSelectorMobile"></select>
        </div>
        <div class="color-mode-selector-container">
            <label for="colorModeSelectorMobile">Koloruj wg:</label>
            <select id="colorModeSelectorMobile">
                <option value="boosts">BoostÃ³w</option>
                <option value="age">Wieku</option>
                <option value="partnerships">Partnerstw</option>
                <option value="influence">WpÅ‚ywu</option>
                <option value="trend">Trendu</option>
            </select>
        </div>
        <div class="mobile-only-button-container">
            <button id="showSummaryMobile">PokaÅ¼ Podsumowanie</button>
            <button id="resetButtonMobile" class="reset-button-mobile">Resetuj MapÄ™</button>
        </div>
    </div>

    <h3>Filtrowanie:</h3>
    <div id="filterPanel">
      <div class="filter-item">
        <label for="dateFilterMin">ğŸ—“ï¸ Data zaÅ‚oÅ¼enia:</label>
        <div class="range-slider-container">
          <div class="range-track"></div>
          <div class="range-fill"></div>
          <input type="range" id="dateFilterMin" class="range-min" min="0" max="1" value="0">
          <input type="range" id="dateFilterMax" class="range-max" min="0" max="1" value="1">
        </div>
        <p id="dateValue" class="filter-value-display">
          <span class="min-value">min: -</span>
          <span class="max-value">max: -</span>
        </p>
      </div>

      <div class="filter-item">
        <label for="memberFilterMin">ğŸ‘¥ CzÅ‚onkowie:</label>
        <div class="range-slider-container">
          <div class="range-track"></div>
          <div class="range-fill"></div>
          <input type="range" id="memberFilterMin" class="range-min" min="0" max="1" value="0">
          <input type="range" id="memberFilterMax" class="range-max" min="0" max="1" value="1">
        </div>
        <p id="memberValue" class="filter-value-display">
          <span class="min-value">min: 0</span>
          <span class="max-value">max: 0</span>
        </p>
      </div>

      <div class="filter-item">
        <label for="boostFilterMin">
          <img src="images/boost-icon.png" alt="Boosty" style="height: 1em; width: auto; vertical-align: -0.15em; margin-right: 0.85em; position: relative; left: 5px;">Boosty:
        </label>
        <div class="range-slider-container">
          <div class="range-track"></div>
          <div class="range-fill"></div>
          <input type="range" id="boostFilterMin" class="range-min" min="0" max="1" value="0">
          <input type="range" id="boostFilterMax" class="range-max" min="0" max="1" value="1">
        </div>
        <p id="boostValue" class="filter-value-display">
          <span class="min-value">min: 0</span>
          <span class="max-value">max: 0</span>
        </p>
      </div>

      <div class="filter-item">
        <label for="partnershipFilterMin">ğŸ¤ Partnerstwa:</label>
        <div class="range-slider-container">
          <div class="range-track"></div>
          <div class="range-fill"></div>
          <input type="range" id="partnershipFilterMin" class="range-min" min="0" max="1" value="0">
          <input type="range" id="partnershipFilterMax" class="range-max" min="0" max="1" value="1">
        </div>
        <p id="partnershipValue" class="filter-value-display">
          <span class="min-value">min: 0</span>
          <span class="max-value">max: 0</span>
        </p>
      </div>
    </div>

    <div id="colorLegend">
        <h3>Legenda kolorÃ³w:</h3>
        <div class="legend-section legend-boosts"></div>
        <div class="legend-section legend-age hidden"></div>
        <div class="legend-section legend-partnerships hidden"></div>
        <div class="legend-section legend-influence hidden"></div>
        <div class="legend-section legend-trend hidden">
            <div class="legend-title">Legenda Trendu (ostatni miesiÄ…c)</div>
            <div class="legend-item"><div class="legend-circle fill-growth"></div>Wzrost czÅ‚onkÃ³w</div>
            <div class="legend-item"><div class="legend-circle fill-decline"></div>Spadek czÅ‚onkÃ³w</div>
            <div class="legend-item"><div class="legend-circle stroke-growth"></div>Wzrost boostÃ³w</div>
            <div class="legend-item"><div class="legend-circle stroke-decline"></div>Spadek boostÃ³w</div>
            <div class="legend-item"><div class="legend-circle fill-growth stroke-decline"></div>PrzykÅ‚ad zÅ‚oÅ¼ony</div>
        </div>
    </div>

    <div id="searchContainer">
      <h3><label for="searchInput">Wyszukiwarka:</label></h3>
      <input type="text" id="searchInput" placeholder="Filtruj listÄ™ serwerÃ³w...">
    </div>

    <div id="serverTableContainer">
      <h3>Lista SerwerÃ³w (<span id="visibleServerCount"></span>):</h3>
      <div class="table-wrapper">
        <table id="serverTable">
          <thead>
            <tr>
              <th class="non-sortable icon-header" title="Miejsce">#</th>
              <th class="sortable" data-sort-by="id">Nazwa <span class="sort-arrow"></span></th>
              <th class="sortable icon-header" data-sort-by="creationDate" title="Data ZaÅ‚oÅ¼enia">ğŸ—“ï¸ <span class="sort-arrow"></span></th>
              <th class="sortable icon-header" data-sort-by="members" title="CzÅ‚onkowie">ğŸ‘¥ <span class="sort-arrow"></span></th>
              <th class="sortable icon-header" data-sort-by="boosts" title="Boosty"><img src="images/boost-icon.png" alt="Boosty"> <span class="sort-arrow"></span></th>
              <th class="sortable icon-header" data-sort-by="partnerships" title="Partnerstwa">ğŸ¤ <span class="sort-arrow"></span></th>
            </tr>
          </thead>
          <tbody id="serverTableBody">
          </tbody>
        </table>
      </div>
    </div>

</div>

<div id="summaryPanel">
    <button id="closeSummaryPanelMobile" class="desktop-hidden">PowrÃ³t do FiltrÃ³w</button>
    <h2>Podsumowanie</h2>
    <div class="summary-section">
        <h3>Statystyki dla widocznych serwerÃ³w</h3>
        <div id="summary-stats-container">
            <div class="summary-stat">
                <span class="stat-value" id="stat-total-members">0</span>
                <span class="stat-label">Suma czÅ‚onkÃ³w</span>
            </div>
            <div class="summary-stat">
                <span class="stat-value" id="stat-avg-members">0</span>
                <span class="stat-label">Åšrednio czÅ‚onkÃ³w</span>
            </div>
            <div class="summary-stat">
                <span class="stat-value" id="stat-total-boosts">0</span>
                <span class="stat-label">Suma boostÃ³w</span>
            </div>
            <div class="summary-stat">
                <span class="stat-value" id="stat-total-partnerships">0</span>
                <span class="stat-label">Suma partnerstw</span>
            </div>
        </div>
    </div>
     <div class="summary-section">
        <h3>Trend globalny (wszystkie serwery)</h3>
        <div id="summary-chart-container">
            <div id="summary-chart"></div>
        </div>
    </div>
    <div class="summary-section">
        <h3>Rankingi zmian (ostatni miesiÄ…c)</h3>
        <div id="trend-rank-controls">
            <button class="trend-toggle-btn active" data-trend="members">CzÅ‚onkowie</button>
            <button class="trend-toggle-btn" data-trend="boosts">Boosty</button>
            <button class="trend-toggle-btn" data-trend="partnerships">Partnerstwa</button>
        </div>
        <div id="trend-rank-table-container">
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nazwa serwera</th>
                        <th>Zmiana</th>
                    </tr>
                </thead>
                <tbody id="trend-rank-table-body"></tbody>
            </table>
        </div>
    </div>
</div>

<div id="serverInfo">
    <button id="closeServerInfo">X</button>
    <div id="serverInfo-content">

        <div id="single-server-view">
            <div class="server-header">
                <h2 id="serverInfo-name"></h2>
                <button id="compare-button" title="PorÃ³wnaj ten serwer z innym">[+] PorÃ³wnaj</button>
            </div>
            <p id="comparison-prompt" class="hidden">Wybierz drugi serwer z mapy lub listy...</p>
            <div id="serverInfo-stats"></div>

            <div id="chart-container" class="hidden">
                <h3 class="section-divider">Historia:</h3>
                <div id="chart-controls">
                    <button class="chart-toggle-btn active" data-chart="members">CzÅ‚onkowie</button>
                    <button class="chart-toggle-btn" data-chart="boosts">Boosty</button>
                    <button class="chart-toggle-btn" data-chart="partnerships">Partnerstwa</button>
                </div>
                <div id="serverInfo-chart"></div>
            </div>

            <h3 class="section-divider">Partnerstwa:</h3>
            <ul id="serverInfo-partnerships-list"></ul>
        </div>

        <div id="comparison-view" class="hidden">
            <div id="comparison-header">
                <div class="comparison-column" id="compare-col-1"></div>
                <div class="comparison-column" id="compare-col-2"></div>
            </div>
            <div id="comparison-stats">
                <div class="comparison-column" id="compare-stats-1"></div>
                <div class="comparison-column" id="compare-stats-2"></div>
            </div>
            <div id="comparison-chart-container"></div>
        </div>

    </div>
</div>

    <div id="pageVersion">Wersja strony: v0.27</div>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/graph.js"></script>
  <script src="js/summary.js"></script>
  <script src="js/interactions.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/table.js"></script>
  <script src="js/dataLoader.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
